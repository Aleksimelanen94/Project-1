<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>To do list</title>
        <link rel="stylesheet" href="Design.css">
	</head>
	<body>
        <div class="header">
            <h1>To do list</h1>
        </div>

        <p>
            To do:
            <input type="text" name="toDo" id="toDo" maxlength="30">
            Time (optional): 
            <input type="time" name="time" id="time">

            <input type="button" onclick="addRow()" name="add" id="add" value="add">
        </p>
        <div class="list">
            <ul id="toDoList">

            </ul>
        </div>

        <input type="button" onclick="clearList()" name="clear" id="clear" value="clear list">
        <p class="listCounter"></p>
		<script>
                //add new row to to do list
                function addRow(){

                    var li = document.createElement("li");
                    var toDoInput = document.getElementById("toDo").value;
                    var toDoText = document.createTextNode(toDoInput + " " + time.value);
                    li.appendChild(toDoText);
                    //check if user textfield input is valid
                    if(toDoInput === "" || toDoInput.length < 4){
                        alert("Textfield is empty or invalid (input must be more than 4 characters long)");
                    }else{
                        document.getElementById("toDoList").appendChild(li);
                    }
                    document.getElementById("toDo").value = "";

                    //reset time value
                    var timeInput = document.getElementById("time");
                    timeInput.value = timeInput.defaultValue;
                    
                    //create checkbox to list item
                    var doneButton = document.createElement("input");
                    doneButton.type ="checkbox";
                    doneButton.className = "doneButton";
                    li.appendChild(doneButton);
                    //add Delete button to list item
                    var deleteButton = document.createElement("input");
                    deleteButton.type ="button";
                    deleteButton.className = "delete"
                    deleteButton.value ="X";
                    li.appendChild(deleteButton);
                    
                    //delete button function
                    var deleteButtons = document.getElementsByClassName("delete");
                        for (i = 0; i < deleteButtons.length; i++){
                            deleteButtons[i].onclick = function(){
                            var listItem = this.parentElement;
                            listItem.style.display = "none";
                        }
                    }
                }
                //clear all list items
                function clearList(){
                    var listItem = document.getElementsByTagName("li");
                    for(i = 0; i < listItem.length; i++){
                        listItem[i].style.display = "none";
                    }
                }

        </script>
	</body>
</html>