<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>To do list</title>
	</head>
	<body>
        <h1>To do list</h1>
        <p>
            To do:
            <input type="text" name="toDo" id="toDo" maxlength="30">
            Time (optional): 
            <input type="time" name="time" id="time">
            <br>
            <input type="button" onclick="insertRow()" name="Insert" id="Insert" value="Insert">
        </p>
        <ul id="toDoList">

        </ul>
		<script>
                //add new row to to do list
                function insertRow(){

                    var li = document.createElement("li");
                    var toDoInput = document.getElementById("toDo").value;
                    var toDoText = document.createTextNode(toDoInput + " " + time.value);
                    li.appendChild(toDoText);
                    //check if user textfield input is valid
                    if(toDoInput === "" || toDoInput.length < 4){
                        alert("Textfield is empty or invalid (input must be more than 4 characters long)");
                    }else{
                        document.getElementById("toDoList").appendChild(li);
                    }
                    document.getElementById("toDo").value = "";

                    var doneButton = document.createElement("input");
                    doneButton.type ="checkbox";
                    li.appendChild(doneButton);
                    //add Delete button
                    var deleteButton = document.createElement("input");
                    deleteButton.type ="button";
                    deleteButton.className = "delete"
                    deleteButton.value ="X";
                    li.appendChild(deleteButton);
                    
                    //delete button functions
                    var deleteButtons = document.getElementsByClassName("delete");
                        for (i = 0; i < deleteButtons.length; i++){
                            deleteButtons[i].onclick = function(){
                            var listItem = this.parentElement;
                            listItem.style.display = "none";
                        }
                    }
                }

        </script>
	</body>
</html>